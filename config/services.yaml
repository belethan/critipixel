parameters:

services:
    _defaults:
        autowire: true
        autoconfigure: true

    App\:
        resource: '../src/'
        exclude:
            - '../src/DependencyInjection/'
            - '../src/Legacy/'
            - '../src/Kernel.php'

    # Faker
    Faker\Generator:
        factory: ['App\Faker\FrenchGeneratorFactory', 'create']

    # User Listener
    App\Doctrine\EntityListener\UserListener:
        tags:
            - { name: doctrine.orm.entity_listener }

    # Gedmo Sluggable
    gedmo.listener.sluggable:
        class: Gedmo\Sluggable\SluggableListener
        tags:
            - { name: doctrine.event_listener, event: 'prePersist' }
            - { name: doctrine.event_listener, event: 'onFlush' }
            - { name: doctrine.event_listener, event: 'loadClassMetadata' }
