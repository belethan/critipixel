<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>{% block title %}CritiPixel{% endblock %}</title>

    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Source+Code+Pro:wght@400;600&display=swap" as="style" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Source+Code+Pro:wght@400;600&display=swap" rel="stylesheet" crossorigin="anonymous">

    <link rel="apple-touch-icon" sizes="180x180" href="{{ asset('images/favicon/apple-touch-icon.png') }}">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ asset('images/favicon/favicon-32x32.png') }}">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ asset('images/favicon/favicon-16x16.png') }}">
    <link rel="mask-icon" href="{{ asset('images/favicon/safari-pinned-tab.svg') }}" color="#f4cc8a">

    <meta name="msapplication-TileColor" content="#f4cc8a">
    <meta name="theme-color" content="#f4cc8a">

    {% block stylesheets %}
        {# En CI (env=test) → on utilise un CSS simple pour éviter SASS #}
        {% if app.environment == 'test' %}
            <link rel="stylesheet" href="{{ asset('styles/app.css') }}">
        {% else %}
            <link rel="stylesheet" href="{{ asset('styles/app.scss') }}">
        {% endif %}
    {% endblock %}

    {% block importmap %}
        {# En CI (env=test) → désactivation d'importmap #}
        {% if app.environment != 'test' %}
            {{ importmap('app') }}
        {% endif %}
    {% endblock %}
</head>

<body class="d-flex flex-column">
<twig:NavBar />

<main class="flex-grow-1 py-4">
    {% block body %}{% endblock %}
</main>
</body>
</html>
